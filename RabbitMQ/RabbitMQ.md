# Rabbit MQ

## 1. 中间件分类

### 1.1 分布式消息中间件

MQ

- ActiveMQ
- RabbitMQ
- Kafka
- RocketMQ

场景

- 消息中间件监控数据
- 异步数据传输场景
- 削峰填谷场景
- 海量数据同步场景
- 分布式事务场景
- 日记管理场景
- 大数据分析场景

协议与设计

- AMQP
- MQTT
- 持久化设计
- Kafka 协议
- 消息分发协议
- 高可用设计
- 可靠性设计
- 容错设计

### 1.2 负载均衡中间件

- Nginx
- Lvs
- KeepAlive
- CDN

### 1.3 缓存中间件

- MemCache
- Redis

### 1.4 数据库中间件

- ShardingJdbc
- Mycat

### 1.5 案例分析

- 异步数据保存
- 订单数据的消息分发
- 分布式事务
- 消息的容错
- 分布式锁
- 分布式会话
- 分库分表

## 2. 消息分发策略

MQ 中的角色

- 生产者
- 消费者
- 存储消息

消息分发策略对比

|          | ActiveMQ | RabbitMQ | Kafka | RocketMQ |
| -------- | -------- | -------- | ----- | -------- |
| 发布订阅 | 支持     | 支持     | 支持  | 支持     |
| 轮询分发 | 支持     | 支持     | 支持  | /        |
| 公平分发 | /        | 支持     | 支持  | /        |
| 重发     | 支持     | 支持     | /     | 支持     |
| 消息拉取 | /        | 支持     | 支持  | 支持     |

